<div class="group-details-container">
  <!-- Group Info Section -->
  <div class="group-header">
    <img
      src="/group-profile.png"
      alt="{{ data.group_name }}"
      class="group-profile-pic"
    />
    <div class="group-info">
      <h2 class="group-name">{{ data.group_name }}</h2>
      <p class="group-description">{{ data.group_description }}</p>
    </div>
  </div>

  <!-- User Balance -->
  <div class="user-balance d-flex justify-content-between">
    <h3>Total Balance: {{ data.balance_amount | currency: "INR" }}</h3>
    <h3>{{ data.role }}</h3>
  </div>

  <!-- Members List -->
  <div class="members-list">
    <div class="d-flex">
      <h3>Group Members</h3>
      @if (loading) {
        <span class="text-center mx-2">
          <span class="spinner-border text-primary" aria-live="polite" role="status">
            <span class="visually-hidden">Loading...</span>
          </span>
        </span>
      }
    </div>
    @for (member of groupMembers(); track $index) {
      <div
        class="member"
        [ngClass]="{ 'current-user': member.member_id === currentUserId }"
      >
        <img
          [src]="member.image_url || '/profile.png'"
          alt="hello"
          class="member-profile-pic"
        />
        <div class="member-details">
          <div class="d-flex justify-content-between">
            <h4 class="member-name">{{ member.first_name }} {{ member.last_name || "" }}</h4>
            <h4 class="member-name">{{ member.role }}</h4>
          </div>
          <p class="member-balance">
            Balance with you: {{ member.balance_with_user | currency: "INR" }}
          </p>
          <p class="member-balance">
            Total balance in group: {{ member.total_balance | currency: "INR" }}
          </p>
        </div>
      </div>
    }
  </div>
</div>
